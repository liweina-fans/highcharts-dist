/*
 Highcharts JS v8.0.0 (2020-02-08)

 (c) 2017-2019 Highsoft AS
 Authors: Jon Arild Nygard

 License: www.highcharts.com/license
*/
(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/venn",["highcharts"],function(v){c(v);c.Highcharts=v;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function v(k,e,f,g){k.hasOwnProperty(e)||(k[e]=g.apply(null,f))}c=c?c._modules:{};v(c,"mixins/draw-point.js",[],function(){var k=function(e){var f=this,g=f.graphic,k=e.animatableAttribs,c=e.onComplete,n=e.css,y=e.renderer;
if(f.shouldDraw())g||(f.graphic=g=y[e.shapeType](e.shapeArgs).add(e.group)),g.css(n).attr(e.attribs).animate(k,e.isNew?!1:void 0,c);else if(g){var x=function(){f.graphic=g=g.destroy();"function"===typeof c&&c()};Object.keys(k).length?g.animate(k,void 0,function(){x()}):x()}};return function(e){(e.attribs=e.attribs||{})["class"]=this.getClassName();k.call(this,e)}});v(c,"mixins/geometry.js",[],function(){return{getAngleBetweenPoints:function(k,e){return Math.atan2(e.x-k.x,e.y-k.y)},getCenterOfPoints:function(k){var e=
k.reduce(function(e,g){e.x+=g.x;e.y+=g.y;return e},{x:0,y:0});return{x:e.x/k.length,y:e.y/k.length}},getDistanceBetweenPoints:function(k,e){return Math.sqrt(Math.pow(e.x-k.x,2)+Math.pow(e.y-k.y,2))}}});v(c,"mixins/geometry-circles.js",[c["mixins/geometry.js"]],function(k){function e(a,b){b=Math.pow(10,b);return Math.round(a*b)/b}function f(a){if(0>=a)throw Error("radius of circle must be a positive number.");return Math.PI*a*a}function g(a,b){return a*a*Math.acos(1-b/a)-(a-b)*Math.sqrt(b*(2*a-b))}
function c(a,b){var h=t(a,b),u=a.r,f=b.r,c=[];if(h<u+f&&h>Math.abs(u-f)){u*=u;var g=(u-f*f+h*h)/(2*h);f=Math.sqrt(u-g*g);u=a.x;c=b.x;a=a.y;var k=b.y;b=u+g*(c-u)/h;g=a+g*(k-a)/h;a=f/h*-(k-a);h=f/h*-(c-u);c=[{x:e(b+a,14),y:e(g-h,14)},{x:e(b-a,14),y:e(g+h,14)}]}return c}function p(a){return a.reduce(function(a,e,f,g){g=g.slice(f+1).reduce(function(a,b,g){var h=[f,g+f+1];return a.concat(c(e,b).map(function(a){a.indexes=h;return a}))},[]);return a.concat(g)},[])}function n(a,b){return t(a,b)<=b.r+1e-10}
function y(a,b){return!b.some(function(b){return!n(a,b)})}function x(a){return p(a).filter(function(b){return y(b,a)})}var q=k.getAngleBetweenPoints,r=k.getCenterOfPoints,t=k.getDistanceBetweenPoints;return{getAreaOfCircle:f,getAreaOfIntersectionBetweenCircles:function(a){var b=x(a);if(1<b.length){var e=r(b);b=b.map(function(a){a.angle=q(e,a);return a}).sort(function(a,b){return b.angle-a.angle});var f=b[b.length-1];b=b.reduce(function(b,e){var f=b.startPoint,g=r([f,e]),h=e.indexes.filter(function(a){return-1<
f.indexes.indexOf(a)}).reduce(function(b,h){h=a[h];var c=q(h,e),k=q(h,f);c=k-(k-c+(k<c?2*Math.PI:0))/2;c=t(g,{x:h.x+h.r*Math.sin(c),y:h.y+h.r*Math.cos(c)});h=h.r;c>2*h&&(c=2*h);if(!b||b.width>c)b={r:h,largeArc:c>h?1:0,width:c,x:e.x,y:e.y};return b},null);if(h){var c=h.r;b.arcs.push(["A",c,c,0,h.largeArc,1,h.x,h.y]);b.startPoint=e}return b},{startPoint:f,arcs:[]}).arcs;if(0!==b.length&&1!==b.length){b.unshift(["M",f.x,f.y]);var g={center:e,d:b}}}return g},getCircleCircleIntersection:c,getCirclesIntersectionPoints:p,
getCirclesIntersectionPolygon:x,getCircularSegmentArea:g,getOverlapBetweenCircles:function(a,b,h){var c=0;h<a+b&&(h<=Math.abs(b-a)?c=f(a<b?a:b):(c=(a*a-b*b+h*h)/(2*h),h-=c,c=g(a,a-c)+g(b,b-h)),c=e(c,14));return c},isCircle1CompletelyOverlappingCircle2:function(a,b){return t(a,b)+b.r<a.r+1e-10},isPointInsideCircle:n,isPointInsideAllCircles:y,isPointOutsideAllCircles:function(a,b){return!b.some(function(b){return n(a,b)})},round:e}});v(c,"mixins/nelder-mead.js",[],function(){var c=function(c){c=c.slice(0,
-1);for(var e=c.length,g=[],k=function(c,e){c.sum+=e[c.i];return c},p=0;p<e;p++)g[p]=c.reduce(k,{sum:0,i:p}).sum/e;return g};return{getCentroid:c,nelderMead:function(e,f){var g=function(a,b){return a.fx-b.fx},k=function(a,b,c,e){return b.map(function(b,h){return a*b+c*e[h]})},p=function(a,b){b.fx=e(b);a[a.length-1]=b;return a},n=function(a){var b=a[0];return a.map(function(a){a=k(.5,b,.5,a);a.fx=e(a);return a})},y=function(a,b,c,f){a=k(c,a,f,b);a.fx=e(a);return a};f=function(a){var b=a.length,c=Array(b+
1);c[0]=a;c[0].fx=e(a);for(var f=0;f<b;++f){var g=a.slice();g[f]=g[f]?1.05*g[f]:.001;g.fx=e(g);c[f+1]=g}return c}(f);for(var x=0;100>x;x++){f.sort(g);var q=f[f.length-1],r=c(f),t=y(r,q,2,-1);t.fx<f[0].fx?(q=y(r,q,3,-2),f=p(f,q.fx<t.fx?q:t)):t.fx>=f[f.length-2].fx?t.fx>q.fx?(r=y(r,q,.5,.5),f=r.fx<q.fx?p(f,r):n(f)):(r=y(r,q,1.5,-.5),f=r.fx<t.fx?p(f,r):n(f)):f=p(f,t)}return f[0]}}});v(c,"modules/venn.src.js",[c["parts/Globals.js"],c["mixins/draw-point.js"],c["mixins/geometry.js"],c["mixins/geometry-circles.js"],
c["mixins/nelder-mead.js"],c["parts/Color.js"],c["parts/Utilities.js"]],function(c,e,f,g,v,p,n){function k(d,a){var c=d.sets,b=a.reduce(function(d,a){var b=-1<c.indexOf(a.sets[0]);d[b?"internal":"external"].push(a.circle);return d},{internal:[],external:[]});b.external=b.external.filter(function(d){return b.internal.some(function(a){return!h(d,a)})});d=X(b.internal,b.external);a=K(d,b.internal,b.external);return{position:d,width:a}}function x(d){var a={},b={};if(0<d.length){var c=L(d),w=d.filter(B);
d.forEach(function(d){var m=d.sets,l=m.join();if(m=B(d)?c[l]:r(m.map(function(d){return c[d]})))a[l]=m,b[l]=k(d,w)})}return{mapOfIdToShape:a,mapOfIdToLabelValues:b}}var q=g.getAreaOfCircle,r=g.getAreaOfIntersectionBetweenCircles,t=g.getCircleCircleIntersection,a=g.getCirclesIntersectionPolygon,b=g.getOverlapBetweenCircles,h=g.isCircle1CompletelyOverlappingCircle2,u=g.isPointInsideAllCircles,S=g.isPointInsideCircle,G=g.isPointOutsideAllCircles,T=v.nelderMead,U=p.parse;p=n.addEvent;var V=n.animObject,
H=n.extend,A=n.isArray,z=n.isNumber,C=n.isObject,W=n.isString,I=n.merge,Y=f.getCenterOfPoints,D=f.getDistanceBetweenPoints;n=c.seriesType;c=c.seriesTypes;var Z=function(d){return Object.keys(d).map(function(a){return d[a]})},aa=function(d){var a=0;2===d.length&&(a=d[0],d=d[1],a=b(a.r,d.r,D(a,d)));return a},M=function(d,a){return a.reduce(function(a,b){var c=0;1<b.sets.length&&(c=b.value,b=aa(b.sets.map(function(a){return d[a]})),b=c-b,c=Math.round(b*b*1E11)/1E11);return a+c},0)},N=function(a,b,c,
e,w){var d=a(b),m=a(c);w=w||100;e=e||1e-10;var f=c-b,g=1;if(b>=c)throw Error("a must be smaller than b.");if(0<d*m)throw Error("f(a) and f(b) must have opposite signs.");if(0===d)var l=b;else if(0===m)l=c;else for(;g++<=w&&0!==J&&f>e;){f=(c-b)/2;l=b+f;var J=a(l);0<d*J?b=l:c=l}return l},E=function(a,c,m){var d=a+c;return 0>=m?d:q(a<c?a:c)<=m?0:N(function(d){d=b(a,c,d);return m-d},0,d)},B=function(a){return A(a.sets)&&1===a.sets.length},F=function(a,b,c){b=b.reduce(function(b,c){c=c.r-D(a,c);return c<=
b?c:b},Number.MAX_VALUE);return b=c.reduce(function(b,c){c=D(a,c)-c.r;return c<=b?c:b},b)},X=function(b,c){var d=b.reduce(function(a,d){var e=d.r/2;return[{x:d.x,y:d.y},{x:d.x+e,y:d.y},{x:d.x-e,y:d.y},{x:d.x,y:d.y+e},{x:d.x,y:d.y-e}].reduce(function(a,d){var e=F(d,b,c);a.margin<e&&(a.point=d,a.margin=e);return a},a)},{point:void 0,margin:-Number.MAX_VALUE}).point;d=T(function(a){return-F({x:a[0],y:a[1]},b,c)},[d.x,d.y]);d={x:d[0],y:d[1]};u(d,b)&&G(d,c)||(d=1<b.length?Y(a(b)):{x:b[0].x,y:b[0].y});
return d},K=function(a,b,c){var d=b.reduce(function(a,b){return Math.min(b.r,a)},Infinity),e=c.filter(function(b){return!S(a,b)});c=function(c,d){return N(function(f){var m={x:a.x+d*f,y:a.y};m=u(m,b)&&G(m,e);return-(c-f)+(m?0:Number.MAX_VALUE)},0,c)};return 2*Math.min(c(d,-1),c(d,1))},O=function(a){var b=a.filter(function(a){return 2===a.sets.length}).reduce(function(a,b){b.sets.forEach(function(c,d,e){C(a[c])||(a[c]={overlapping:{},totalOverlap:0});a[c].totalOverlap+=b.value;a[c].overlapping[e[1-
d]]=b.value});return a},{});a.filter(B).forEach(function(a){H(a,b[a.sets[0]])});return a},P=function(a,b){return b.totalOverlap-a.totalOverlap},L=function(a){var b=[],c={};a.filter(function(a){return 1===a.sets.length}).forEach(function(a){c[a.sets[0]]=a.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(a.value/Math.PI)}});var d=function(a,c){var d=a.circle;d.x=c.x;d.y=c.y;b.push(a)};O(a);var e=a.filter(B).sort(P);d(e.shift(),{x:0,y:0});var f=a.filter(function(a){return 2===a.sets.length});
e.forEach(function(a){var e=a.circle,g=e.r,m=a.overlapping,w=b.reduce(function(a,d,w){var h=d.circle,l=E(g,h.r,m[d.sets[0]]),k=[{x:h.x+l,y:h.y},{x:h.x-l,y:h.y},{x:h.x,y:h.y+l},{x:h.x,y:h.y-l}];b.slice(w+1).forEach(function(a){var b=a.circle;a=E(g,b.r,m[a.sets[0]]);k=k.concat(t({x:h.x,y:h.y,r:l},{x:b.x,y:b.y,r:a}))});k.forEach(function(b){e.x=b.x;e.y=b.y;var d=M(c,f);d<a.loss&&(a.loss=d,a.coordinates=b)});return a},{loss:Number.MAX_VALUE,coordinates:void 0});d(a,w.coordinates)});return c},Q=function(a){var b=
{};return C(a)&&z(a.value)&&-1<a.value&&A(a.sets)&&0<a.sets.length&&!a.sets.some(function(a){var c=!1;!b[a]&&W(a)?b[a]=!0:c=!0;return c})},R=function(a){a=A(a)?a:[];var b=a.reduce(function(a,b){Q(b)&&B(b)&&0<b.value&&-1===a.indexOf(b.sets[0])&&a.push(b.sets[0]);return a},[]).sort(),c=a.reduce(function(a,c){Q(c)&&!c.sets.some(function(a){return-1===b.indexOf(a)})&&(a[c.sets.sort().join()]=c);return a},{});b.reduce(function(a,b,c,d){d.slice(c+1).forEach(function(c){a.push(b+","+c)});return a},[]).forEach(function(a){if(!c[a]){var b=
{sets:a.split(","),value:0};c[a]=b}});return Z(c)},ba=function(a,b,c){var d=c.bottom-c.top,e=c.right-c.left;d=Math.min(0<e?1/e*a:1,0<d?1/d*b:1);return{scale:d,centerX:a/2-(c.right+c.left)/2*d,centerY:b/2-(c.top+c.bottom)/2*d}};n("venn","scatter",{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,states:{hover:{opacity:1,
borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1}},tooltip:{pointFormat:"{point.name}: {point.value}"}},{isCartesian:!1,axisTypes:[],directTouch:!0,pointArrayMap:["value"],translate:function(){var a=this.chart;this.processedXData=this.xData;this.generatePoints();var b=R(this.options.data);b=x(b);var c=b.mapOfIdToShape,e=b.mapOfIdToLabelValues;b=Object.keys(c).filter(function(a){return(a=c[a])&&z(a.r)}).reduce(function(a,b){var d=c[b];b=d.x-d.r;var e=d.x+d.r,f=d.y+
d.r;d=d.y-d.r;if(!z(a.left)||a.left>b)a.left=b;if(!z(a.right)||a.right<e)a.right=e;if(!z(a.top)||a.top>d)a.top=d;if(!z(a.bottom)||a.bottom<f)a.bottom=f;return a},{top:0,bottom:0,left:0,right:0});a=ba(a.plotWidth,a.plotHeight,b);var f=a.scale,g=a.centerX,h=a.centerY;this.points.forEach(function(a){var b=A(a.sets)?a.sets:[],d=b.join(),k=c[d],m,l=e[d]||{};d=l.width;l=l.position;var w=a.options&&a.options.dataLabels;k&&(k.r?m={x:g+k.x*f,y:h+k.y*f,r:k.r*f}:k.d&&(m={d:k.d.reduce(function(a,b){"M"===b[0]?
(b[1]=g+b[1]*f,b[2]=h+b[2]*f):"A"===b[0]&&(b[1]*=f,b[2]*=f,b[6]=g+b[6]*f,b[7]=h+b[7]*f);return a.concat(b)},[]).join(" ")}),l?(l.x=g+l.x*f,l.y=h+l.y*f):l={},z(d)&&(d=Math.round(d*f)));a.shapeArgs=m;l&&m&&(a.plotX=l.x,a.plotY=l.y);d&&m&&(a.dlOptions=I(!0,{style:{width:d}},C(w)&&w));a.name=a.options.name||b.join("\u2229")})},drawPoints:function(){var a=this,b=a.chart,c=a.group,e=b.renderer;(a.points||[]).forEach(function(d){var f={zIndex:A(d.sets)?d.sets.length:0},g=d.shapeArgs;b.styledMode||H(f,a.pointAttribs(d,
d.state));d.draw({isNew:!d.graphic,animatableAttribs:g,attribs:f,group:c,renderer:e,shapeType:g&&g.d?"path":"circle"})})},pointAttribs:function(a,b){var c=this.options||{};a=I(c,{color:a&&a.color},a&&a.options||{},b&&c.states[b]||{});return{fill:U(a.color).setOpacity(a.opacity).brighten(a.brightness).get(),stroke:a.borderColor,"stroke-width":a.borderWidth,dashstyle:a.borderDashStyle}},animate:function(a){if(!a){var b=V(this.options.animation);this.points.forEach(function(a){var c=a.shapeArgs;if(a.graphic&&
c){var d={},e={};c.d?d.opacity=.001:(d.r=0,e.r=c.r);a.graphic.attr(d).animate(e,b);c.d&&setTimeout(function(){a&&a.graphic&&a.graphic.animate({opacity:1})},b.duration)}},this);this.animate=null}},utils:{addOverlapToSets:O,geometry:f,geometryCircles:g,getLabelWidth:K,getMarginFromCircles:F,getDistanceBetweenCirclesByOverlap:E,layoutGreedyVenn:L,loss:M,nelderMead:v,processVennData:R,sortByTotalOverlap:P}},{draw:e,shouldDraw:function(){return!!this.shapeArgs},isValid:function(){return z(this.value)}});
p(c.venn,"afterSetOptions",function(a){var b=a.options.states;this.is("venn")&&Object.keys(b).forEach(function(a){b[a].halo=!1})})});v(c,"masters/modules/venn.src.js",[],function(){})});
//# sourceMappingURL=venn.js.map